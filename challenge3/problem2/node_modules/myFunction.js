var MySQLRealEscapeStringModule = require('./mysql_real_escape_string');

exports.myFunction = function (myCode) 
{
	// Checks if myCode character length is lesser or equal to 32.
	if (myCode.length <= 32)
	{

		// Using mysql_real_escape_string module from code challenge 1 
		// to deal with SQL Injection by appending "\" to comprise characters.
		myCode = MySQLRealEscapeStringModule.mysql_real_escape_string(myCode);

		// SQL statement from problem (1)
<<<<<<< HEAD
		var SQLStatement = "SELECT * FROM coupons WHERE code = '" 
				   + myCode 
				   + "';";
=======
		var SQLStatement = "SELECT * FROM coupons WHERE code = \'" 
				   + myCode 
				   + "\';";
>>>>>>> 4602c48cc2ed3f1d42bf433a95861085e2ac82cc
       		return SQLStatement;
	}
	else
	{
		throw new Error("INVALID CODE: Code must be 32 characters or less.");
	}
}
